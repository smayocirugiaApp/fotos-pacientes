<input type="file" id="fileInput">
<button onclick="uploadFile()">Subir</button>
<div id="result"></div>

<script>
const WEB_APP_URL = "TU_URL_DEL_WEBAPP"; // ⚠️ pon aquí el de Apps Script

async function uploadFile() {
  const fileInput = document.getElementById("fileInput");
  if (!fileInput.files.length) return alert("Selecciona un archivo");

  const file = fileInput.files[0];
  const reader = new FileReader();

  reader.onload = async function(e) {
    try {
      const response = await fetch(WEB_APP_URL + "?filename=" + encodeURIComponent(file.name), {
        method: "POST",
        body: e.target.result
      });

      const result = await response.json();
      document.getElementById("result").innerText = JSON.stringify(result, null, 2);

    } catch (err) {
      document.getElementById("result").innerText = "❌ Error: " + err;
    }
  };

  reader.readAsDataURL(file);
}
</script>
